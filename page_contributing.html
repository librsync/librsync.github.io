<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>librsync: Contributing to librsync</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <!-- ad -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- librsync -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-3547096055927362"
         data-ad-slot="8322976738"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">librsync
   &#160;<span id="projectnumber">2.3.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Contributing to librsync </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_CONTRIBUTING"></a> Instructions and conventions for people wanting to work on librsync. Please consider these guidelines even if you're doing your own fork.</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Code Style</h1>
<p>The prefered style for code is equivalent to using GNU indent with the following arguments;</p>
<div class="fragment"><div class="line">$ indent -linux -nut -i4 -ppi2 -l80 -lc80 -fc1 -fca -sob</div>
</div><!-- fragment --><p>The preferred style for non-docbook comments are as follows;</p>
<div class="fragment"><div class="line">                     <span class="comment">/*=</span></div>
<div class="line"><span class="comment">                      | A short poem that</span></div>
<div class="line"><span class="comment">                      | shall never ever be</span></div>
<div class="line"><span class="comment">                      | reformated or reindented</span></div>
<div class="line"><span class="comment">                      */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Single line comment indented to match code indenting. */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Blank line delimited paragraph multi-line comments.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">   Without leading stars, or blank line comment delimiters. */</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> a;                      <span class="comment">/* code line comments */</span></div>
</div><!-- fragment --><p>The preferred style for docbook comments is javadoc with autobrief as follows;</p>
<div class="fragment"><div class="line"><span class="comment">/** /file file.c</span></div>
<div class="line"><span class="comment">  * Brief summary paragraph.</span></div>
<div class="line"><span class="comment">  *</span></div>
<div class="line"><span class="comment">  * With blank line paragraph delimiters and leading stars.</span></div>
<div class="line"><span class="comment">  *</span></div>
<div class="line"><span class="comment">  * /param foo parameter descriptions...</span></div>
<div class="line"><span class="comment">  *</span></div>
<div class="line"><span class="comment">  * /param bar ...in separate blank-line delimited paragraphs.</span></div>
<div class="line"><span class="comment">  *</span></div>
<div class="line"><span class="comment">  * Example:/code</span></div>
<div class="line"><span class="comment">  *  code blocks that will never be reformated.</span></div>
<div class="line"><span class="comment">  * /endcode</span></div>
<div class="line"><span class="comment">  *</span></div>
<div class="line"><span class="comment">  * Without blank-line comment delimiters. */</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> a;                      <span class="comment">/**&lt; brief attribute description */</span></div>
<div class="line">    <span class="keywordtype">int</span> b;                      <span class="comment">/**&lt; multiline attribute description</span></div>
<div class="line"><span class="comment">                                 *</span></div>
<div class="line"><span class="comment">                                 * With blank line delimited paragraphs.*/</span></div>
</div><!-- fragment --><p>There is a <code>make tidy</code> target that will use GNU indent to reformat all code and non-docbook comments, doing some pre/post processing with sed to handle some corner cases indent doesn't handle well.</p>
<p>There is also a <code>make tidyc</code> target that will reformat all code and comments with <a href="https://github.com/dbaarda/tidyc">https://github.com/dbaarda/tidyc</a>. This will also correctly reformat all docbook comments, equivalent to running tidyc with the following arguments;</p>
<div class="fragment"><div class="line">$ tidyc -R -C -l80</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1"></a>
Pull requests</h1>
<p>Fixes or improvements in pull requests are welcome. Please:</p>
<ul>
<li>[ ] Send small PRs that address one issues each.</li>
<li>[ ] Update <code>NEWS.md</code> to say what you changed.</li>
<li>[ ] Add a test as a self-contained C file in <code>tests/</code> that passes or fails, and is hooked into <code>CMakeLists.txt</code>.</li>
<li>[ ] Keep the code style consistent with what's already there, especially in keeping symbols with an <code>rs_</code> prefix.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
NEWS</h1>
<p><a class="el" href="md_NEWS.html">NEWS.md</a> contains a list of user-visible changes in the library between releases version. This includes changes to the way it's packaged, bug fixes, portability notes, changes to the API, and so on.</p>
<p>Add and update items under a "Changes in X.Y.Z" heading at the top of the file. Do this as you go along, so that we don't need to work out what happened when it's time for a release.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Tests</h1>
<p>Please try to update docs and tests in parallel with code changes.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Releasing</h1>
<p>If you are making a new tarball release of librsync, follow this checklist:</p>
<ul>
<li>NEWS.md - make sure the top "Changes in X.Y.Z" is correct, and the date is correct. Make sure the changes since the last release are documented.</li>
<li><code>CMakeLists.txt</code> - version is correct.</li>
<li><code>librsync.spec</code> - make sure version and URL are right.</li>
<li>Run <code>make all doc check</code> in a clean checkout of the release tag. Also check the travis-cl check status of the last commit on github.</li>
<li>Draft a new release on github, typing in the release details including an overview, included changes, and known issues. The overview should give an indication of the magnitude of the changes and their impact, and the relative urgency to upgrade. The included changes should come from the NEWS.md for the release. It's probably easiest to copy and edit the previous release.</li>
<li>After creating the release, download the tar.gz version, edit the release, and re-upload it. This ensures that the release includes a stable tarball (See <a href="https://github.com/librsync/librsync/issues/146">https://github.com/librsync/librsync/issues/146</a> for details).</li>
</ul>
<p>Test results for builds of public github branches are at <a href="https://travis-ci.org/librsync/librsync">https://travis-ci.org/librsync/librsync</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<!-- ad -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- librsync -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3547096055927362"
     data-ad-slot="8322976738"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-71109100-1', 'auto');
  ga('send', 'pageview');
</script>
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 10 2021 15:04:34 for librsync by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.1
</small></address>
</body>
</html>
