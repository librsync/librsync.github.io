<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>librsync: librsync NEWS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <!-- ad -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- librsync -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-3547096055927362"
         data-ad-slot="8322976738"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">librsync
   &#160;<span id="projectnumber">2.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">librsync NEWS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>librsync 2.0.1</h2>
<p>NOT RELEASED YET</p>
<ul>
<li>Extensively reworked Doxygen documentation, now available at <a href="http://librsync.sourcefrog.net/">http://librsync.sourcefrog.net/</a> (Martin Pool)</li>
<li>Removed some declarations from <a class="el" href="librsync_8h.html" title="Public header for librsync. ">librsync.h</a> that were unimplemented or no longer ever useful: <code>rs_work_options</code>, <code>rs_accum_value</code>. Remove declaration of unimplemented <code>rs_mdfour_file()</code>. (Martin Pool)</li>
<li>Remove shipped <code>snprintf</code> code: no longer acutally linked after changing to CMake, and since it's part of C99 it should be widely available. (Martin Pool)</li>
<li>Document that Ninja (<a href="http://ninja-build.org/">http://ninja-build.org/</a>) is supported under CMake. It's a bit faster and nicer than Make. (Martin Pool)</li>
<li><code>make check</code> (or <code>ninja check</code> etc) will now build and run the tests. Previously due to a CMake limitation, <code>make test</code> would only run existing tests and could fail if they weren't built. (Martin Pool, <a href="https://github.com/librsync/librsync/issues/49">https://github.com/librsync/librsync/issues/49</a>)</li>
<li>Added cmake options to exclude rdiff target and compression from build. See install documentation for details. Thanks to Michele Bertasi.</li>
<li><code>popt</code> is only needed when <code>rdiff</code> is being built. (gulikoza)</li>
<li>Use <code>fseeko64</code> on mingw. (gulikoza)</li>
<li><code>rdiff -s</code> option now shows bytes read/written and speed. (gulikoza)</li>
<li>Running rdiff should not overwrite existing files (signatures, deltas and new patched files) by default. If the destination file exists, rdiff will now exit with an error. (gulikoza) Add new option -f (&ndash;force) to overwrite existing files.</li>
<li>Add signature memory preallocation (instead of calling realloc for every sig block). See <a class="el" href="streaming_8md_source.html">streaming.md</a> job-&gt;estimated_signature_count for usage when using the library. <code>rdiff</code> uses this by default if possible.</li>
<li><code>stdint.h</code> from C99 is now required.</li>
</ul>
<h2>librsync 2.0.0</h2>
<p>Released 2015-11-29</p>
<p>Note: despite the major version bump, this release has few changes and should be binary and API compatible with the previous version.</p>
<ul>
<li>Bump librsync version number to 2.0, to match the library soname/dylib version. (Martin Pool, <a href="https://github.com/librsync/librsync/issues/48">https://github.com/librsync/librsync/issues/48</a>)</li>
</ul>
<h2>librsync 1.0.1 (2015-11-21)</h2>
<ul>
<li>Better performance on large files. (VictorDenisov)</li>
<li>Add comment on usage of <a class="el" href="librsync_8h.html#a1c5553b7439b942d0dad35c8230e7217" title="Call this after loading a signature to index it. ">rs_build_hash_table()</a>, and assert correct use. Callers must call <a class="el" href="librsync_8h.html#a1c5553b7439b942d0dad35c8230e7217" title="Call this after loading a signature to index it. ">rs_build_hash_table()</a> after loading the signature, and before calling <a class="el" href="librsync_8h.html#a94f836dcf033b422ffa977ae51119937" title="Prepare to compute a streaming delta. ">rs_delta_begin()</a>. Thanks to Paul Harris <a href="#" onclick="location.href='mai'+'lto:'+'pau'+'lh'+'arr'+'is'+'@co'+'mp'+'ute'+'r.'+'org'; return false;">paulh<span style="display: none;">.nosp@m.</span>arri<span style="display: none;">.nosp@m.</span>s@com<span style="display: none;">.nosp@m.</span>pute<span style="display: none;">.nosp@m.</span>r.org</a></li>
<li><p class="startli">Switch from autoconf to CMake.</p>
<p class="startli">Thanks to Adam Schubert.</p>
</li>
</ul>
<h2>librsync 1.0.0 (2015-01-23)</h2>
<ul>
<li><p class="startli">SECURITY: CVE-2014-8242: librsync previously used a truncated MD4 "strong" check sum to match blocks. However, MD4 is not cryptographically strong. It's possible that an attacker who can control the contents of one part of a file could use it to control other regions of the file, if it's transferred using librsync/rdiff. For example this might occur in a database, mailbox, or VM image containing some attacker-controlled data.</p>
<p class="startli">To mitigate this issue, signatures will by default be computed with a 256-bit BLAKE2 hash. Old versions of librsync will complain about a bad magic number when given these signature files.</p>
<p class="startli">Backward compatibility can be obtained using the new <code>rdiff sig --hash=md4</code> option or through specifying the "signature magic" in the API, but this should not be used when either the old or new file contain untrusted data.</p>
<p class="startli">Deltas generated from those signatures will also use BLAKE2 during generation, but produce output that can be read by old versions.</p>
<p class="startli">See <a href="https://github.com/librsync/librsync/issues/5">https://github.com/librsync/librsync/issues/5</a></p>
<p class="startli">Thanks to Michael Samuel &lt;miknet.net&gt; for reporting this and offering an initial patch.</p>
</li>
<li>Various build fixes, thanks Timothy Gu.</li>
<li>Improved rdiff man page from Debian.</li>
<li>Improved librsync.spec file for building RPMs.</li>
<li>Fixed bug #1110812 'internal error: job made no progress'; on large files.</li>
<li>Moved hosting to <a href="https://github.com/librsync/librsync/">https://github.com/librsync/librsync/</a></li>
<li>Travis-CI.org integration test at <a href="https://travis-ci.org/librsync/librsync/">https://travis-ci.org/librsync/librsync/</a></li>
<li>You can set <code>$LIBTOOLIZE</code> before running <code>autogen.sh</code>, for example on OS X Homebrew where it is called <code>glibtoolize</code>.</li>
</ul>
<h2>0.9.7 (released 2004-10-10)</h2>
<ul>
<li>Yet more large file support fixes.</li>
<li><code>extern "C"</code> guards in <a class="el" href="librsync_8h.html" title="Public header for librsync. ">librsync.h</a> to let it be used from C++.</li>
<li>Removed Debian files from dist tarball.</li>
<li>Changed rdiff to an installed program on "make install".</li>
<li>Refactored delta calculation code to be cleaner and faster.</li>
<li>#879763: Fixed mdfour to work on little-endian machines which don't like unaligned word access. This should make librsync work on pa-risc, and it makes it slightly faster on ia64.</li>
<li>#1022764: Fix corrupted encoding of some COPY commands in large files.</li>
<li>#1024881: Print long integers directly, rather than via casts to double.</li>
<li>Fix printf formats for size_t: both the format and the argument should be cast to long.</li>
</ul>
<h2>0.9.6</h2>
<ul>
<li>Large file support fixes.</li>
<li>[v]snprintf or _[v]snprintf autoconf replacement function fix.</li>
<li>Changed installed include file from rsync.h to <a class="el" href="librsync_8h.html" title="Public header for librsync. ">librsync.h</a>.</li>
<li>Migration to sourceforge for hosting.</li>
<li>Rollsum bugfix that produces much smaller deltas.</li>
<li>Memory leaks bugfix patches.</li>
<li>mdfour bigendian and &gt;512M bugfix, plus optimisations patch.</li>
<li>autoconf/automake updates and cleanups for autoconf 2.53.</li>
<li>Windows compilation patch, heavily modified.</li>
<li>MacOSX compilation patch, modified to autoconf vararg macro fix.</li>
<li>Debian package build scripts patch.</li>
</ul>
<h2>0.9.5</h2>
<ul>
<li>Bugfix patch from Shirish Hemant Phatak</li>
</ul>
<h2>0.9.4: (library 1.1.0)</h2>
<ul>
<li>Fixes for rsync.h from Thorsten Schuett <a href="#" onclick="location.href='mai'+'lto:'+'tho'+'rs'+'ten'+'.s'+'chu'+'et'+'t@z'+'ib'+'.de'; return false;">thors<span style="display: none;">.nosp@m.</span>ten.<span style="display: none;">.nosp@m.</span>schue<span style="display: none;">.nosp@m.</span>tt@z<span style="display: none;">.nosp@m.</span>ib.de</a></li>
<li>RLL encoding fix from Shirish Hemant Phatak <a href="#" onclick="location.href='mai'+'lto:'+'shi'+'ri'+'sh@'+'nu'+'sto'+'ra'+'ge.'+'co'+'m'; return false;">shiri<span style="display: none;">.nosp@m.</span>sh@n<span style="display: none;">.nosp@m.</span>ustor<span style="display: none;">.nosp@m.</span>age.<span style="display: none;">.nosp@m.</span>com</a></li>
<li>RPM spec file by Peter J. Braam <a href="#" onclick="location.href='mai'+'lto:'+'bra'+'am'+'@cl'+'us'+'ter'+'fs'+'.co'+'m'; return false;">braam<span style="display: none;">.nosp@m.</span>@clu<span style="display: none;">.nosp@m.</span>sterf<span style="display: none;">.nosp@m.</span>s.co<span style="display: none;">.nosp@m.</span>m</a></li>
<li>No (intentional) changes to binary API.</li>
</ul>
<h2>0.9.3</h2>
<ul>
<li>Big speed improvements in MD4 routines and generation of weak checksums.</li>
<li>Patch to build on FreeBSD by Jos Backus <a href="#" onclick="location.href='mai'+'lto:'+'jos'+'b@'+'cnc'+'ds'+'l.c'+'om'; return false;">josb@<span style="display: none;">.nosp@m.</span>cncd<span style="display: none;">.nosp@m.</span>sl.co<span style="display: none;">.nosp@m.</span>m</a></li>
<li>Suggestions to build on Solaris 2.6 from Alberto Accomazzi <a href="#" onclick="location.href='mai'+'lto:'+'aac'+'co'+'maz'+'zi'+'@cf'+'a.'+'har'+'va'+'rd.'+'ed'+'u'; return false;">aacco<span style="display: none;">.nosp@m.</span>mazz<span style="display: none;">.nosp@m.</span>i@cfa<span style="display: none;">.nosp@m.</span>.har<span style="display: none;">.nosp@m.</span>vard.<span style="display: none;">.nosp@m.</span>edu</a></li>
<li>Add rs_job_drive, a generic mechanism for turning the library into blocking mode. rs_whole_run now builds on top of this. The filebuf interface has changed a little to accomodate it.</li>
<li>Generating and loading signatures now generates statistics.</li>
<li>More test cases.</li>
<li>I suspect there may be a bug in rolling checksums, but it probably only causes inefficiency and not corruption.</li>
<li>Portability fixes for alphaev67-dec-osf5.1; at the moment builds but does not work because librsync tries to do unaligned accesses.</li>
<li>Works on sparc64-unknown-linux-gnu (Debian/2.2)</li>
</ul>
<h2>0.9.2</h2>
<ul>
<li>Improve delta algorithm so that deltas are actually delta-compressed, rather than faked.</li>
</ul>
<h2>0.9.1</h2>
<ul>
<li>Rename the library to `librsync'.</li>
<li>Portability fixes.</li>
<li>Include the popt library, and use it to build rdiff if the library is not present on the host.</li>
<li>Add file(1) magic for rdiff.</li>
<li>Add more to the manual pages.</li>
<li>It's no longer necessary to call rs_buffers_init on a stream before starting to use it: all the internal data is kept in the job, not in the stream.</li>
<li>Rename rs_stream_t to rs_buffers_t, a more obvious name. Pass the buffers to every <a class="el" href="job_8c.html#a637e42431bf4df09af378c5a1efa60f0" title="Run a rs_job state machine until it blocks (RS_BLOCKED), returns an error, or completes (RS_DONE)...">rs_job_iter()</a> call, rather than setting it at startup. Similarly for all the _begin() functions.</li>
<li>rs_job_new also takes the initial state function.</li>
<li>Return RS_PARAM_ERROR when library is misused.</li>
</ul>
<h2>0.9.0</h2>
<ul>
<li>Redesign API to be more like zlib/bzlib.</li>
<li>Put all command-line functions into a single rdiff(1) program.</li>
<li>New magic number `rs6'</li>
<li>Change to using popt for command line parsing.</li>
<li>Use Doxygen for API documentation.</li>
</ul>
<h2>0.5.7</h2>
<ul>
<li>Changes stats string format.</li>
<li>Slightly improved test cases</li>
</ul>
<h2>0.5.6</h2>
<ul>
<li>Don't install debugging tools into /usr/local/bin; leave them in the source directory.</li>
<li>Fix libhsync to build on (sgi-mips, IRIX64, gcc, GNU Make)</li>
<li>Include README.CVS in tarball</li>
<li>Back out of using libtool and shared libraries, as it is unnecessary at this stage, complicates installation and slows down compilation.</li>
<li>Use mapptr when reading data to decode, so that decoding should have less latency and be more reliable.</li>
<li>Cope better on systems that are missing functions like snprintf.</li>
</ul>
<h2>0.5.5</h2>
<ul>
<li>Put genuine search encoding back into the nad algorithm, and further clean up the nad code. Literals are now sent out using a literal buffer integrated with the input mapptr so that data is not copied. Checksums are still calculated from scratch each time rather than by rolling &ndash; this is very slow but simple.</li>
<li>Reshuffle test cases so that they use files generated by hsmapread, rather than the source directory. This makes the tests quicker and more reproducible, hopefully without losing coverage. Further develop the test driver framework.</li>
<li>Add hsdumpsums debugging tool.</li>
<li>Hex strings (eg strong checksums) are broken up by underscores for readability.</li>
<li>Stats now go to the log rather than stdout.</li>
<li>mapptr acts properly when we're skipping/rewinding to data already present in the buffer &ndash; it does a copy if required, but not necessarily real IO.</li>
</ul>
<h2>0.5.4</h2>
<ul>
<li>Improved mapptr input code</li>
<li>Turn on more warnings if using gcc</li>
<li>More test cases</li>
</ul>
<h2>0.5.3</h2>
<ul>
<li>Improvements to mapptr to make it work better for network IO.</li>
<li>Debug trace code is compiled in unless turned off in ./configure (although most programs will not write it out unless asked.)</li>
<li>Add libhsyncinfo program to show compiled-in settings and version.</li>
<li>Add test cases that run across localhost TCP sockets.</li>
<li>Improved build code; should now build easily from CVS through autogen.sh.</li>
<li>Improved trace code.</li>
<li>Clean up to build on sparc-sun-solaris2.8, and in the process clean up the handling of bytes vs chars, and of building without gcc</li>
<li>Reverse build scripts so that driver.sh calls the particular script.</li>
</ul>
<h2>0.5.2</h2>
<ul>
<li>Use mapptr for input.</li>
<li>Implement a new structure for encoding in nad.c. It doesn't encode at the moment, but it's much more maintainable.</li>
<li>More regression cases.</li>
<li>Clean up build process.</li>
</ul>
<h2>0.5.0</h2>
<ul>
<li>Rewrite hs_inbuf and hs_encode to make them simpler and more reliable.</li>
<li>Test cases for input handling.</li>
<li>Use the map_ptr idea for input from both streams and files.</li>
</ul>
<h2>0.4.1</h2>
<ul>
<li>automake/autoconf now works cleanly when the build directory is different to the source directory.</li>
<li>&ndash;enable-ccmalloc works again.</li>
</ul>
<h2>0.4.0</h2>
<ul>
<li>A much better regression suite.</li>
<li>CHECKSUM token includes the file's checksum up to the current location, to aid in self-testing.</li>
<li>Various bug fixes, particularly to do with short IO returns. </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<!-- ad -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- librsync -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3547096055927362"
     data-ad-slot="8322976738"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-71109100-1', 'auto');
  ga('send', 'pageview');
</script>
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 2 2017 15:50:19 for librsync by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
